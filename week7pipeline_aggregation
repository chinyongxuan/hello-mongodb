{
	"info": {
		"_postman_id": "4025beb9-95e9-4ba0-a1a8-243a616139a8",
		"name": "New Collection",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "49103567",
		"_collection_link": "https://gold-moon-3919581.postman.co/workspace/yx99's-Workspace~2239d901-72ac-4d0c-8a37-d375955c190d/collection/49103567-4025beb9-95e9-4ba0-a1a8-243a616139a8?action=share&source=collection_link&creator=49103567"
	},
	"item": [
		{
			"name": "Pipeline Testing (week7exe)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var template = `",
							"<h2 style=\"text-align: center; color: #333;\">Passenger Analytics Dashboard</h2>",
							"",
							"<div style=\"display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px;\">",
							"    <div style=\"flex: 1; min-width: 400px; max-width: 600px;\">",
							"        <canvas id=\"ridesAndFareChart\" height=\"250\"></canvas>",
							"    </div>",
							"    <div style=\"flex: 1; min-width: 400px; max-width: 600px;\">",
							"        <canvas id=\"avgDistanceChart\" height=\"250\"></canvas>",
							"    </div>",
							"</div>",
							"",
							"<script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js\"></script>",
							"<script>",
							"    pm.getData(function (err, value) {",
							"        var passengers = value.passengers;",
							"        var names = passengers.map(function(p) { return p.name; });",
							"        var totalRides = passengers.map(function(p) { return p.totalRides; });",
							"        var totalFare = passengers.map(function(p) { return p.totalFare; });",
							"        var avgDistance = passengers.map(function(p) { return p.avgDistance; });",
							"",
							"        // Chart 1: Total Rides and Total Fare (Bar Chart)",
							"        var ctx1 = document.getElementById(\"ridesAndFareChart\").getContext(\"2d\");",
							"        new Chart(ctx1, {",
							"            type: \"bar\",",
							"            data: {",
							"                labels: names,",
							"                datasets: [",
							"                    {",
							"                        label: \"Total Rides\",",
							"                        data: totalRides,",
							"                        backgroundColor: \"rgba(54, 162, 235, 0.7)\",",
							"                        borderColor: \"rgba(54, 162, 235, 1)\",",
							"                        borderWidth: 1,",
							"                        yAxisID: \"y-axis-rides\"",
							"                    },",
							"                    {",
							"                        label: \"Total Fare ($)\",",
							"                        data: totalFare,",
							"                        backgroundColor: \"rgba(255, 99, 132, 0.7)\",",
							"                        borderColor: \"rgba(255, 99, 132, 1)\",",
							"                        borderWidth: 1,",
							"                        yAxisID: \"y-axis-fare\"",
							"                    }",
							"                ]",
							"            },",
							"            options: {",
							"                title: {",
							"                    display: true,",
							"                    text: \"Total Rides & Total Fare by Passenger\"",
							"                },",
							"                scales: {",
							"                    xAxes: [{",
							"                        display: true,",
							"                        scaleLabel: {",
							"                            display: true,",
							"                            labelString: \"Passenger\"",
							"                        }",
							"                    }],",
							"                    yAxes: [",
							"                        {",
							"                            id: \"y-axis-rides\",",
							"                            type: \"linear\",",
							"                            position: \"left\",",
							"                            scaleLabel: {",
							"                                display: true,",
							"                                labelString: \"Total Rides\"",
							"                            },",
							"                            ticks: {",
							"                                beginAtZero: true",
							"                            }",
							"                        },",
							"                        {",
							"                            id: \"y-axis-fare\",",
							"                            type: \"linear\",",
							"                            position: \"right\",",
							"                            scaleLabel: {",
							"                                display: true,",
							"                                labelString: \"Total Fare ($)\"",
							"                            },",
							"                            ticks: {",
							"                                beginAtZero: true",
							"                            },",
							"                            gridLines: {",
							"                                drawOnChartArea: false",
							"                            }",
							"                        }",
							"                    ]",
							"                }",
							"            }",
							"        });",
							"",
							"        // Chart 2: Average Distance (Bar Chart)",
							"        var ctx2 = document.getElementById(\"avgDistanceChart\").getContext(\"2d\");",
							"        new Chart(ctx2, {",
							"            type: \"bar\",",
							"            data: {",
							"                labels: names,",
							"                datasets: [{",
							"                    label: \"Average Distance (miles)\",",
							"                    data: avgDistance,",
							"                    backgroundColor: \"rgba(75, 192, 192, 0.7)\",",
							"                    borderColor: \"rgba(75, 192, 192, 1)\",",
							"                    borderWidth: 1",
							"                }]",
							"            },",
							"            options: {",
							"                title: {",
							"                    display: true,",
							"                    text: \"Average Distance per Ride by Passenger\"",
							"                },",
							"                scales: {",
							"                    xAxes: [{",
							"                        display: true,",
							"                        scaleLabel: {",
							"                            display: true,",
							"                            labelString: \"Passenger\"",
							"                        }",
							"                    }],",
							"                    yAxes: [{",
							"                        display: true,",
							"                        scaleLabel: {",
							"                            display: true,",
							"                            labelString: \"Distance (miles)\"",
							"                        },",
							"                        ticks: {",
							"                            beginAtZero: true",
							"                        }",
							"                    }]",
							"                }",
							"            }",
							"        });",
							"    });",
							"</script>",
							"`;",
							"",
							"function constructVisualizerPayload() {",
							"    return {",
							"        passengers: pm.response.json()",
							"    };",
							"}",
							"",
							"pm.visualizer.set(template, constructVisualizerPayload());"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "[\r\n    {\r\n        \"name\": \"Alice\",\r\n        \"totalRides\": 2,\r\n        \"totalFare\": 37.8,\r\n        \"avgDistance\": 8.85\r\n    },\r\n    {\r\n        \"name\": \"Bob\",\r\n        \"totalRides\": 1,\r\n        \"totalFare\": 18.75,\r\n        \"avgDistance\": 9.8\r\n    }\r\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://localhost:3000/analytics/passengers",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "3000",
					"path": [
						"analytics",
						"passengers"
					]
				}
			},
			"response": []
		}
	]
}